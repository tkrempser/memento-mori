const rows_per_rect=get_css_variable("--rows-per-rect"),cols_per_rect=get_css_variable("--cols-per-rect");let calendar=document.getElementById("calendar");const life_expectancy=80;let numDecades=Math.floor(8);function fill_calendar(e){let[t,l,r]=e.split("/");e=new Date(`${l}/${t}/${r}`);let c=(new Date-e)/864e5,n=52*Math.floor(c/365)+Math.floor(c%365/7);for(let a=0;a<n;a++)paint_week(a)}function paint_week(e){let t=document.getElementById(`week-${e}`);null!=t&&(t.style.backgroundColor=get_css_variable("--color-dark-gray"))}function set_ids(e){let t=2*cols_per_rect,l=10*t;for(let r=0;r<e;r++){let c=r*l;for(let n=0;n<2;n++){let a=document.getElementById(`rect-${r}-${n}`),o=n*cols_per_rect;a.childNodes.forEach((e,l)=>{let r,n=c+Math.floor(l/26)*t+o+l%cols_per_rect;e.id=`week-${n}`})}}}function populate_calendar(e){for(let t=0;t<e;t++)spawn_decade(t);set_ids(e)}function spawn_decade(e){for(let t=0;t<2;t++){let l=spawn_rectangle(rows_per_rect,cols_per_rect);l.id=`rect-${e}-${t}`,calendar.appendChild(l)}}function spawn_rectangle(e,t){let l=document.createElement("div");l.classList.add("rect-container");for(let r=0;r<e;r++)for(let c=0;c<t;c++)l.appendChild(spawn_cell());return l}function spawn_cell(){let e=document.createElement("div");return e.classList.add("week-cell"),e}function get_css_variable(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}populate_calendar(numDecades),fill_calendar("26/01/1984");